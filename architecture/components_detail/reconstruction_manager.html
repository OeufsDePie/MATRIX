

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.3.4. Reconstruction Manager &mdash; MATRIX 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="MATRIX 0.1 documentation" href="../../index.html"/>
        <link rel="up" title="3.3. Components implementation" href="../components_detail.html"/>
        <link rel="next" title="3.3.5. 3D Rendering Module" href="3drenderer.html"/>
        <link rel="prev" title="3.3.3. Workspace Manager" href="workspace_manager.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> MATRIX</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../context.html">1. Context and Objectives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user.html">2. Use of the Application</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../user/workspaces.html">2.1. Managing workspaces and scenes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user/photos.html">2.2. Managing the photo selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user/camera.html">2.3. Camera connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user/3d.html">2.4. 3D Reconstruction and Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user/map.html">2.5. Map localization</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../architecture.html">3. Architecture of the Application</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../components_global.html">3.1. Global architecture of the application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../model_view.html">3.2. The model / view pattern</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../components_detail.html">3.3. Components implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../code.html">4. Code Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../code/modules.html">4.1. MatrixGUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../code/Python/modules.html">4.2. Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../code/PyQt/modules.html">4.3. PyQt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../doc.html">5. Building that Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../doc.html#sphinx-installation">5.1. Sphinx Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../doc.html#initialize-the-documentation">5.2. Initialize the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../doc.html#configuration-of-sphinx-documentation">5.3. Configuration of Sphinx documentation</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">MATRIX</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../architecture.html">3. Architecture of the Application</a> &raquo;</li>
      
          <li><a href="../components_detail.html">3.3. Components implementation</a> &raquo;</li>
      
    <li>3.3.4. Reconstruction Manager</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/architecture/components_detail/reconstruction_manager.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="reconstruction-manager">
<h1>3.3.4. Reconstruction Manager<a class="headerlink" href="#reconstruction-manager" title="Permalink to this headline">¶</a></h1>
<p>This section describes several things about the module used to launch
the reconstruction. This module is included in the project as a git
submodule and has it&#8217;s own GitHub repository (<a class="reference external" href="https://github.com/OeufsDePie/OpenMVGFeeder">OpenMVGFeeder</a>).  Right
now, the reconstruction manager has two versions (the older is the one
included in the final version of the application).</p>
<div class="section" id="interface-with-the-openmvg-command-line">
<h2>3.3.4.1. Interface with the openMVG command line<a class="headerlink" href="#interface-with-the-openmvg-command-line" title="Permalink to this headline">¶</a></h2>
<p>The reconstruction manager is simply a front end to the openMVG
command line. It is very similar with the <a class="reference external" href="http://oeufsdepie.github.io/MATRIX/architecture/components_detail/picture_fetcher.html">Picture Fetcher</a> module :
we also use the subprocess submodule from python to call directly
openMVG through the command line.</p>
<p>This version is pretty basic and doesn&#8217;t handle many things we would
have wanted to implement like detection of new point cloud
file. That&#8217;s why there is another version, but we didn&#8217;t have the time
to integrate it in our last version of the application.</p>
</div>
<div class="section" id="reconstruction-manager-improvements">
<h2>3.3.4.2. Reconstruction Manager improvements<a class="headerlink" href="#reconstruction-manager-improvements" title="Permalink to this headline">¶</a></h2>
<p>In this improvement, we first added a function, <code class="docutils literal"><span class="pre">pointCloudDetected</span></code>
able to emit a signal when a new point cloud is detected in a specific
folder (given as a parameter).</p>
<p>When the orchestrator creates a reconstruction manager, it creates a
new object with default attributes :</p>
<ul class="simple">
<li>A list of <code class="docutils literal"><span class="pre">.ply</span></code> files it already has : initialize empty.</li>
<li>A new signal called <cite>newPointCloud</cite></li>
<li>A new <cite>QFileSystemWatcher_</cite> initially watching nothing and that we
connect with the pointCloudDetected (described previously) slot.</li>
</ul>
<p>Then, when we launch a new reconstruction, we call the
<code class="docutils literal"><span class="pre">launchReconstruction</span></code> function. This function is working like in
the first version, except that every time it is called, we add the
openMVG output directory to the list of folder watched by the file
watcher. Every time a new point cloud is detected in this folder, we
copy it in the output folder used by the 3D renderer (the path is
given as a parameter).</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="3drenderer.html" class="btn btn-neutral float-right" title="3.3.5. 3D Rendering Module">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="workspace_manager.html" class="btn btn-neutral" title="3.3.3. Workspace Manager"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Matthias Benkort, Nicolas Gaborit, Arthur Manoha, Matthieu Pizenberg, Louis Viot.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>